# 使用指南

## 快速开始

### 1. 环境准备

```bash
# 创建虚拟环境
uv venv

# 安装依赖
uv sync
```

### 2. 获取Tushare Token

1. 访问 [Tushare官网](https://tushare.pro/)
2. 注册账户并登录
3. 在个人中心获取API Token
4. 记录Token，格式类似：`xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

### 3. 启动应用

```bash
# 方法1: 使用uv运行启动脚本
uv run run.py

# 方法2: 直接使用uv运行Streamlit
uv run streamlit run app.py
```

应用将在浏览器中自动打开，默认地址为 `http://localhost:48501`。如果端口被占用，可以指定其他端口：

```bash
uv run streamlit run app.py --server.port 8502
```

### 4. 使用应用

1. 在浏览器中访问应用地址
2. 在左侧控制面板中输入Tushare Token
3. 输入基金代码（例如：`510300.SH`）
4. 选择分析时间范围
5. 调整技术指标参数（可选）
6. 查看分析结果

## 常用基金代码示例

### 指数基金
- `510300.SH` - 沪深300 ETF
- `510500.SH` - 中证500 ETF
- `510050.SH` - 上证50 ETF
- `159919.SZ` - 沪深300 ETF (深市)
- `159915.SZ` - 创业板 ETF

### 主动管理基金
- `110022.OF` - 易方达消费行业
- `000001.OF` - 华夏成长
- `161725.OF` - 招商中证白酒指数分级

## 功能模块详解

### 1. 基金概览
- **核心业绩**: 区间累计收益率、年化收益率、年化波动率、最大回撤、夏普比率、卡玛比率
- **基本资料**: 基金全称、管理人、托管人、投资类型、成立日期、业绩比较基准
- **基金经理**: 历任基金经理信息及简历
- **规模与分红**: 基金份额历史变化、分红记录

### 2. 净值与通道指标
- 基金累计净值走势
- 基准指数对比
- 移动平均线（可调节周期）
- 布林带（可选）
- 金叉死叉信号标记

### 3. 风险与相对强弱
- 滚动年化波动率（60日）
- RSI相对强弱指数（包含超买超卖线）

### 4. 高级技术指标
- **MACD**: DIF线、DEA线、MACD柱状图
- **KDJ**: K、D、J三条曲线
- **CCI**: 顺势指标
- **DMI**: 动向指标
- **BBI**: 多空指标
- **TRIX**: 三重指数平滑移动平均线
- **ATR**: 真实波动率
- **OBV**: 能量潮
- **MFI**: 资金流量指标

### 5. 年度收益表现
- 基金与基准的历年年度收益率对比
- 条形图展示，直观对比表现

## 参数调节说明

### 基础技术指标
- **短期移动平均线周期**: 默认20，范围5-50
- **长期移动平均线周期**: 默认60，范围20-200
- **RSI计算周期**: 默认14，范围7-30

### 日期范围
- 默认显示过去3年数据
- 可自定义开始和结束日期
- 建议时间范围不少于1年以获得准确的技术指标

### 基准选择
- **沪深300**: 大盘蓝筹股基准
- **中证500**: 中盘股基准
- **上证50**: 超大盘股基准
- **创业板指**: 成长股基准

## 故障排除

### 常见错误及解决方案

1. **"无法初始化Tushare API"**
   - 检查Token是否正确
   - 确认网络连接正常
   - 验证Token是否有效（可能需要续费）

2. **"无法获取基金数据"**
   - 检查基金代码格式是否正确
   - 确认基金是否存在
   - 检查日期范围是否合理

3. **"数据预处理失败"**
   - 可能是数据质量问题
   - 尝试缩短时间范围
   - 更换其他基金代码测试

4. **图表显示异常**
   - 刷新页面重试
   - 检查网络连接
   - 清除浏览器缓存

### 性能优化建议

1. **数据缓存**: 应用已启用数据缓存，重复分析相同基金时速度更快
2. **指标选择**: 一次不要选择过多技术指标，影响加载速度
3. **时间范围**: 避免选择过长的时间范围，建议不超过5年
4. **浏览器**: 建议使用Chrome、Firefox等现代浏览器

## 数据说明

### 数据来源
- 所有数据来源于Tushare Pro API
- 基金净值数据：日度更新
- 基本信息：相对稳定，变化较少
- 技术指标：基于历史数据计算

### 数据准确性
- 数据仅供参考，不构成投资建议
- 请以基金公司官方数据为准
- 技术指标基于历史数据计算，不预测未来走势

### 免责声明
- 本应用仅供学习和研究使用
- 投资有风险，入市需谨慎
- 使用本应用所产生的任何投资决策，后果自负